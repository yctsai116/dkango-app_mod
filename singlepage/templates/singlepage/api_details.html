{% extends 'singlepage/dashboard.html' %}
{% load static %}

{% block loadPages %}
    <div class="container my-5">
        <div class="row">
            <div class="col-md-8">
                {% if obj.api_request == 200 %}
                    <div class="table-responsive">
                        <table class="table table-bordered px-0">
                            <thead class="table-dark">
                            <tr>
                                <th class="text-nowrap" scope="col">Name</th>
                                <th class="text-nowrap" scope="col">Unit Code</th>
                                <th class="text-nowrap" scope="col">Message</th>
                                <th class="text-nowrap" scope="col">Notes</th>
                            </tr>
                            </thead>
                            <tbody id="api-response-wrapper">
                            <tr>
                                <td class="text-nowrap align-middle">
                                    {{ obj.name }}
                                </td>
                                <td class="text-nowrap align-middle">
                                    {{ obj.unit_code }}
                                </td>
                                <td class="text-nowrap align-middle">
                                    {{ obj.is_success }}
                                </td>
                                <td class="text-nowrap align-middle">
                                    {{ obj.notes }}
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    <pre>
                        {{ api_content }}
                    </pre>
                    </div>
                {% else %}
                    <div class="d-block">
                        <p class="h4 fw-bold text-danger mt-5 mb-4">Fail</p>
                        <div class="alert alert-primary" role="alert">
                            <h4 class="alert-heading">Well done!</h4>
                            <p class="mb-0">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec commodo turpis lacus, ac
                                lobortis purus consectetur ut. Sed ut libero sed diam fringilla sollicitudin id sit amet
                                eros. Mauris cursus leo viverra, blandit dui ac, condimentum mauris. Maecenas varius
                                ante congue ex sagittis, sed iaculis libero euismod. Sed vitae lectus gravida nulla
                                finibus blandit et eu neque.
                            </p>
                        </div>
                    </div>
                {% endif %}
            </div>

            <div class="col-md">
                <form method="post" class="api-config-container" id="apiInfoForm">
                    {% csrf_token %}
                    <div class="row">
                        <div class="col-12 mt-4">
                            <div class="group form-group mb-0">
{#                                <input class="form-control" id="apiContent" name="apiContent" type="text"/>#}
                                {{ form.api_content }}
                                <span class="highlight"></span>
                                <span class="bar"></span>
                                <label for="apiContent">API Content</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="group form-group mb-0">
                                <div class="text-group mb-3">
{#                                    <textarea id="apiNote" name="apiNote" class="form-control" rows="6"></textarea>#}
                                    {{ form.notes }}
                                    <span class="highlight"></span>
                                    <span class="bar"></span>
                                    <label for="apiNote">Note</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-12 text-end">
                            <button class="btn btn-sm btn-outline-primary border-0 text-end" type="submit">
                                Submit
                            </button>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
{% endblock loadPages %}